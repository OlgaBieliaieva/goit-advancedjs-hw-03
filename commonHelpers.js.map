{"version":3,"file":"commonHelpers.js","sources":["../src/cat-api.js","../src/index.js"],"sourcesContent":["import axios from 'axios';\n\nconst URL_FOR_ALL_BREEDS = 'https://api.thecatapi.com/v1/breeds/?';\nconst URL_FOR_SELECTED_BREED = ' https://api.thecatapi.com/v1/images/search?';\nconst REQUEST_OPTIONS = {\n  api_key:\n    'live_4OV6mO4kCm8Wvp0obaFUUKjV7Fg0aDGCrA5iSKIh93pBZ22atpg8saVdJ0BQ988s',\n  breed_ids: '',  \n};\n\nexport async function fetchBreeds() {\n  const options = new URLSearchParams(REQUEST_OPTIONS);\n  try {\n    const response = await axios.get(`${URL_FOR_ALL_BREEDS}${options}`);\n    return response.data;\n  } catch (error) {\n    console.log(error);    \n  }\n}\n\nexport async function fetchCatByBreed(breedId) {\n  if (REQUEST_OPTIONS.breed_ids !== breedId) {\n    REQUEST_OPTIONS.breed_ids = breedId;\n  }\n  const options = new URLSearchParams({...REQUEST_OPTIONS, limit: 15});\n  try {\n    const response = await axios.get(`${URL_FOR_SELECTED_BREED}${options}`);    \n    return response.data;\n  } catch (error) {\n    console.log(error);\n  }\n}\n","import { fetchBreeds } from './cat-api';\nimport { fetchCatByBreed } from './cat-api';\nimport iziToast from 'izitoast';\nimport Swiper from 'swiper/bundle';\nimport { Pagination, Navigation } from 'swiper/modules';\nimport 'swiper/css/bundle';\nimport 'swiper/css/navigation';\nimport 'swiper/css/pagination';\n\nconst refs = {\n  searchSelect: document.querySelector('.breed-select'),\n  searchResult: document.querySelector('.cat-info'),\n  swiperContainer: document.querySelector('.swiper-container'),\n  swiper: document.querySelector('.swiper'),\n  swiperWrapper: document.querySelector('.swiper-wrapper'),\n  descriptionWrapper: document.querySelector('.description-container'),\n  loader: document.querySelector('.loader'),\n};\n\nrefs.searchSelect.addEventListener('change', getSelectedBreed);\n\nfetchBreeds()\n  .then(data => createSelectOptions(data))\n  .catch(() => showError());\n\nfunction createSelectOptions(data) {\n  const optionsMarkup = data\n    .map(\n      ({ id, name }) =>\n        `<option class=\"breed-option\" value=\"${id}\">${name}</option>`\n    )\n    .join('');\n  refs.searchSelect.insertAdjacentHTML('beforeend', optionsMarkup);\n}\n\nfunction getSelectedBreed(event) {\n  refs.loader.classList.remove('visually-hidden');\n  const breedId = event.target.value;\n  if (breedId !== '') {\n    refs.swiperContainer.classList.add('visually-hidden');\n    refs.descriptionWrapper.innerHTML = '';\n    refs.swiperWrapper.innerHTML = '';\n    fetchCatByBreed(breedId)\n      .then(data => createCatInfoMarkup(data))\n      .catch(e => showError(e));\n  } else {\n    refs.descriptionWrapper.innerHTML = '';\n    refs.swiperContainer.innerHTML = '';\n    refs.loader.classList.add('visually-hidden');\n  }\n}\n\nfunction createCatInfoMarkup(data) {\n  const catInfo = data[0].breeds[0];\n  const imageList = data.map(item => item.url);\n  const ratingStars = [1, 2, 3, 4, 5];\n\n  const swiperMarkup = imageList\n    .map(\n      url =>\n        `        \n        <div class=\"swiper-slide\"><img class=\"slide-img\" src=\"${url}\" alt=\"${catInfo.name}\" width=\"500\" height=\"376\"></div>`\n    )\n    .join('');\n\n  const catInfoMarkup = `<h2>${catInfo.name}</h2>\n    <p class=\"label\">Origin: <span class=\"text\">${catInfo.origin}</span></p>    \n    <p class=\"label\">Weight: <span class=\"text\">${\n      catInfo.weight.metric\n    }</span> kg</p>\n    <p class=\"label\">Weight: <span class=\"text\">${\n      catInfo.weight.metric\n    }</span> kg</p>\n    <p class=\"label\">Lifetime: <span class=\"text\">${\n      catInfo.life_span\n    }</span> yrs</p>\n    <p class=\"label\">Weight: <span class=\"text\">${\n      catInfo.weight.metric\n    }</span> kg</p>\n    <p class=\"label\">Temperament: <span class=\"text\">${\n      catInfo.temperament\n    }</span></p>\n    <p class=\"description\">${catInfo.description}</p>\n    <ul class=\"properties\">\n    <li>\n    <p class=\"label\">Affection level</p>\n    <ul class=\"stars\">\n    ${ratingStars\n      .map(item =>\n        catInfo.affection_level >= item\n          ? `<li><svg width=\"30\" height=\"30\">\n    <use href=\"../assets/star-rating.icons.svg#star-filled\"></use>\n  </svg></li>`\n          : `<li><svg width=\"30\" height=\"30\">\n        <use href=\"../assets/star-rating.icons.svg#star-empty\"></use>\n      </svg></li>`\n      )\n      .join('')}\n    </ul>    \n    </li>\n    <li>\n    <p class=\"label\">Adaptability</p>\n    <ul class=\"stars\">\n    ${ratingStars\n      .map(item =>\n        catInfo.adaptability >= item\n          ? `<li><svg width=\"30\" height=\"30\">\n    <use href=\"/images/star-rating.icons.svg#star-filled\"></use>\n  </svg></li>`\n          : `<li><svg width=\"30\" height=\"30\">\n        <use href=\"/images/star-rating.icons.svg#star-empty\"></use>\n      </svg></li>`\n      )\n      .join('')}\n    </ul>    \n    </li>\n    <li>\n    <p class=\"label\">Child friendly</p>\n    <ul class=\"stars\">\n    ${ratingStars\n      .map(item =>\n        catInfo.child_friendly >= item\n          ? `<li><svg width=\"30\" height=\"30\">\n    <use href=\"/images/star-rating.icons.svg#star-filled\"></use>\n  </svg></li>`\n          : `<li><svg width=\"30\" height=\"30\">\n        <use href=\"/images/star-rating.icons.svg#star-empty\"></use>\n      </svg></li>`\n      )\n      .join('')}\n    </ul>    \n    </li>\n    <li>\n    <p class=\"label\">Dog friendly</p>\n    <ul class=\"stars\">\n    ${ratingStars\n      .map(item =>\n        catInfo.dog_friendly >= item\n          ? `<li><svg width=\"30\" height=\"30\">\n    <use href=\"/images/star-rating.icons.svg#star-filled\"></use>\n  </svg></li>`\n          : `<li><svg width=\"30\" height=\"30\">\n        <use href=\"/images/star-rating.icons.svg#star-empty\"></use>\n      </svg></li>`\n      )\n      .join('')}\n    </ul>    \n    </li>\n    <li>\n    <p class=\"label\">Energy level</p>\n    <ul class=\"stars\">\n    ${ratingStars\n      .map(item =>\n        catInfo.energy_level >= item\n          ? `<li><svg width=\"30\" height=\"30\">\n    <use href=\"/images/star-rating.icons.svg#star-filled\"></use>\n  </svg></li>`\n          : `<li><svg width=\"30\" height=\"30\">\n        <use href=\"/images/star-rating.icons.svg#star-empty\"></use>\n      </svg></li>`\n      )\n      .join('')}\n    </ul>    \n    </li>\n    <li>\n    <p class=\"label\">Grooming</p>\n    <ul class=\"stars\">\n    ${ratingStars\n      .map(item =>\n        catInfo.grooming >= item\n          ? `<li><svg width=\"30\" height=\"30\">\n    <use href=\"/images/star-rating.icons.svg#star-filled\"></use>\n  </svg></li>`\n          : `<li><svg width=\"30\" height=\"30\">\n        <use href=\"/images/star-rating.icons.svg#star-empty\"></use>\n      </svg></li>`\n      )\n      .join('')}\n    </ul>    \n    </li>\n    <li>\n    <p class=\"label\">Health issues</p>\n    <ul class=\"stars\">\n    ${ratingStars\n      .map(item =>\n        catInfo.health_issues >= item\n          ? `<li><svg width=\"30\" height=\"30\">\n    <use href=\"/images/star-rating.icons.svg#star-filled\"></use>\n  </svg></li>`\n          : `<li><svg width=\"30\" height=\"30\">\n        <use href=\"/images/star-rating.icons.svg#star-empty\"></use>\n      </svg></li>`\n      )\n      .join('')}\n    </ul>    \n    </li>\n    <li>\n    <p class=\"label\">Intelligence</p>\n    <ul class=\"stars\">\n    ${ratingStars\n      .map(item =>\n        catInfo.intelligence >= item\n          ? `<li><svg width=\"30\" height=\"30\">\n    <use href=\"/images/star-rating.icons.svg#star-filled\"></use>\n  </svg></li>`\n          : `<li><svg width=\"30\" height=\"30\">\n        <use href=\"/images/star-rating.icons.svg#star-empty\"></use>\n      </svg></li>`\n      )\n      .join('')}\n    </ul>    \n    </li>\n    <li>\n    <p class=\"label\">Shedding level</p>\n    <ul class=\"stars\">\n    ${ratingStars\n      .map(item =>\n        catInfo.shedding_level >= item\n          ? `<li><svg width=\"30\" height=\"30\">\n    <use href=\"/images/star-rating.icons.svg#star-filled\"></use>\n  </svg></li>`\n          : `<li><svg width=\"30\" height=\"30\">\n        <use href=\"/images/star-rating.icons.svg#star-empty\"></use>\n      </svg></li>`\n      )\n      .join('')}\n    </ul>    \n    </li>\n    <li>\n    <p class=\"label\">Social needs</p>\n    <ul class=\"stars\">\n    ${ratingStars\n      .map(item =>\n        catInfo.social_needs >= item\n          ? `<li><svg width=\"30\" height=\"30\">\n    <use href=\"/images/star-rating.icons.svg#star-filled\"></use>\n  </svg></li>`\n          : `<li><svg width=\"30\" height=\"30\">\n        <use href=\"/images/star-rating.icons.svg#star-empty\"></use>\n      </svg></li>`\n      )\n      .join('')}\n    </ul>    \n    </li>\n    <li>\n    <p class=\"label\">Stranger friendly</p>\n    <ul class=\"stars\">\n    ${ratingStars\n      .map(item =>\n        catInfo.stranger_friendly >= item\n          ? `<li><svg width=\"30\" height=\"30\">\n    <use href=\"/images/star-rating.icons.svg#star-filled\"></use>\n  </svg></li>`\n          : `<li><svg width=\"30\" height=\"30\">\n        <use href=\"/images/star-rating.icons.svg#star-empty\"></use>\n      </svg></li>`\n      )\n      .join('')}\n    </ul>    \n    </li>\n    <li>\n    <p class=\"label\">Vocalisation</p>\n    <ul class=\"stars\">\n    ${ratingStars\n      .map(item =>\n        catInfo.vocalisation >= item\n          ? `<li><svg width=\"30\" height=\"30\">\n    <use href=\"/images/star-rating.icons.svg#star-filled\"></use>\n  </svg></li>`\n          : `<li><svg width=\"30\" height=\"30\">\n        <use href=\"/images/star-rating.icons.svg#star-empty\"></use>\n      </svg></li>`\n      )\n      .join('')}\n    </ul>    \n    </li>\n    </ul>\n    <a href=\"${catInfo.wikipedia_url}\"> Learn more </a>`;\n\n  refs.loader.classList.add('visually-hidden');\n  refs.swiperWrapper.insertAdjacentHTML('afterbegin', swiperMarkup);\n  initSwiper();\n  refs.swiperContainer.classList.remove('visually-hidden');\n  refs.descriptionWrapper.insertAdjacentHTML('beforeend', catInfoMarkup);\n}\n\nfunction initSwiper() {\n  const swiperOptions = {\n    modules: [Pagination, Navigation],\n    loop: true,\n    autoplay: {\n      delay: 3000,\n    },\n    speed: 1000,\n    pagination: {\n      el: '.swiper-pagination',\n    },\n    navigation: {\n      nextEl: '.swiper-button-next',\n      prevEl: '.swiper-button-prev',\n    },\n  };\n  const swiper = new Swiper('.swiper', { ...swiperOptions });\n  refs.swiper.addEventListener('mouseover', function () {\n    swiper.autoplay.stop();\n  });\n\n  refs.swiper.addEventListener('mouseout', function () {\n    swiper.autoplay.start();\n  });\n}\n\nfunction showError(e) {\n  iziToast.error({\n    title: 'Oops!',\n    message: 'Something went wrong! Try reloading the page!',\n  });\n}\n"],"names":["URL_FOR_ALL_BREEDS","URL_FOR_SELECTED_BREED","REQUEST_OPTIONS","fetchBreeds","options","axios","error","fetchCatByBreed","breedId","refs","getSelectedBreed","data","createSelectOptions","showError","optionsMarkup","id","name","event","createCatInfoMarkup","e","catInfo","imageList","item","ratingStars","swiperMarkup","url","catInfoMarkup","initSwiper","swiperOptions","Pagination","Navigation","swiper","Swiper","iziToast"],"mappings":"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"}